@if (showHeader()) {
  <app-header 
    class="desktop-only"
    (addAnime)="openAddDialog()" 
    (manageCategories)="openManageCategoriesDialog()"
    (manageSources)="openManageSourcesDialog()"
    (bulkImport)="openBulkImportDialog()"
    (refreshMetadata)="openMetadataSyncDialog()"
    (openThemeSettings)="openThemeSettingsDialog()"
  ></app-header>
}

<main class="app-content">
  <router-outlet />
</main>

@if (showHeader()) {
  <app-mobile-nav class="mobile-only"></app-mobile-nav>
}

<app-add-media-dialog></app-add-media-dialog>
<app-manage-categories-dialog></app-manage-categories-dialog>
<app-manage-sources-dialog></app-manage-sources-dialog>
<app-bulk-import-dialog></app-bulk-import-dialog>
<app-metadata-sync-dialog></app-metadata-sync-dialog>
<app-theme-settings-dialog></app-theme-settings-dialog>
<app-toast></app-toast>
<app-alert></app-alert>
<app-shortcuts-dialog></app-shortcuts-dialog>
<app-add-run-dialog
  [isOpen]="dialogService.isAddRunOpen()"
  [mediaType]="dialogService.currentAddRunData()?.mediaType || 'anime'"
  (close)="dialogService.closeAddRun()"
  (save)="onConfirmAddRun($event)">
</app-add-run-dialog>

<app-run-details-dialog
  [run]="dialogService.currentRunDetails()"
  [mediaType]="dialogService.currentRunMediaType()"
  [totalCount]="dialogService.currentRunTotalCount()"
  (close)="dialogService.closeRunDetails()"
  (updated)="onRunUpdated()">
</app-run-details-dialog>
