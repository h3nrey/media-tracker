<section class="media-gallery-section">
  <div class="section-header">
    <div class="header-text">
      <h2>
        <lucide-icon [img]="ImageIcon" [size]="24"></lucide-icon>
        Momentos Legais
      </h2>
      <span class="subtitle">Capturas marcantes da sua jornada</span>
    </div>
  </div>

  @if (galleryImages().length > 0) {
    <div class="media-gallery-grid">
      @for (img of galleryImages(); track img.id) {
        <div class="gallery-card" (click)="openImage(img)">
          <div class="image-wrapper">
            <img [src]="img.url" [alt]="img.description">
            <div class="gallery-overlay">
              <p>{{ img.description }}</p>
            </div>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="empty-state-card">
      <div class="empty-content">
        <div class="icon-stack">
          <div class="circle-glow"></div>
          <lucide-icon [img]="ImageIcon" [size]="48" class="main-icon"></lucide-icon>
          <lucide-icon [img]="XIcon" [size]="20" class="sub-icon"></lucide-icon>
        </div>
        <div class="empty-text">
          <h3>Nenhum momento capturado</h3>
          <p>Adicione capturas de tela e fotos da sua galeria para recordar seus momentos favoritos!</p>
        </div>
      </div>
    </div>
  }
</section>

<!-- Fullscreen Overlay -->
@if (selectedImage(); as img) {
  <div class="fullscreen-overlay fade-in" (click)="closeImage()">
    <button class="close-btn" (click)="closeImage()">
      <lucide-icon [img]="XIcon" [size]="24"></lucide-icon>
    </button>
    
    <div class="overlay-content" (click)="$event.stopPropagation()">
      <div class="overlay-image-wrapper">
        <img [src]="img.url" [alt]="img.description" class="full-image">
      </div>
      @if (img.description) {
        <div class="overlay-info">
          <p>{{ img.description }}</p>
        </div>
      }
    </div>
  </div>
}
