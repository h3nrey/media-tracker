@if(!isLoading()) {
  <div class="details-page">
    <div class="backdrop-container" [style.background-image]="'url(' + (game()?.bannerImage || game()?.coverImage) + ')'">
      <div class="backdrop-gradient"></div>
    </div>

    <div class="page-content">
      <div class="content-layout">
        <app-game-sidebar 
          [game]="game()" 
          [category]="category()" 
          [categories]="categories()"
          [lists]="lists()"
          (edit)="onEdit()" 
          (quickLog)="onQuickLog()"
          (updateScore)="onUpdateScore($event)"
          (updateCategory)="onUpdateCategory($event)"
          (saveLinks)="onSaveLinks($event)"
          (listUpdated)="onListUpdated()">
        </app-game-sidebar>

        <div class="main-column-wrapper">
          <app-game-info 
            [game]="game()" 
            [tagline]="getTagline()">
          </app-game-info>

          <div class="divider"></div>

          <div class="details-sections">
            <div class="section-group full-width">
              <app-media-runs-list 
                [mediaItemId]="game()!.id!" 
                [mediaType]="'game'">
              </app-media-runs-list>
            </div>
          </div>

          <div class="reviews-wrapper">
            <app-media-reviews [supabaseId]="game()?.supabaseId"></app-media-reviews>
          </div>
        </div>
      </div>
    </div>
  </div>
}
@else {
  <div class="loading-state">
    <div class="spinner"></div>
    <p>Loading details...</p>
  </div>
}
