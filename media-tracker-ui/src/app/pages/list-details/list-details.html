@if(list()) {
    <div class="list-details-container">
        
        <app-list-hero [list]="list()"></app-list-hero>

        <div class="list-main-content">
            <app-list-header 
                [name]="list()?.name" 
                [description]="list()?.description"
                (manageList)="openEditForm()">
            </app-list-header>

            <div class="content-layout">
                <div class="main-column">
                    @if (animes().length > 0) {
                        <app-list-animes [animes]="animes()" title="Animes"></app-list-animes>
                    }
                    
                    @if (games().length > 0) {
                        <app-list-animes [animes]="games()" title="Games"></app-list-animes>
                    }

                    @if (animes().length === 0 && games().length === 0) {
                        <div class="empty-list-state">
                            <p>No items added to this list yet.</p>
                        </div>
                    }
                </div>

                <aside class="sidebar-column">
                    <app-list-stats 
                        [percentage]="stats().percentage"
                        [progressCurrent]="stats().watched"
                        [progressTotal]="stats().total"
                        [itemCount]="list()?.mediaItems?.length || 0">
                    </app-list-stats>
                </aside>
            </div>
        </div>
    </div>

    <app-list-form></app-list-form>
}
