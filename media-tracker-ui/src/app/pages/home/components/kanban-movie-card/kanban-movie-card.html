@if (movie) {
  <app-kanban-card 
    [media]="movie" 
    [isSelected]="isSelected"
    (edit)="edit.emit($event)" 
    (delete)="delete.emit($event)" 
    (increment)="increment.emit($event)"
    (complete)="complete.emit($event)"
    (addNewRun)="addNewRun.emit($event)"
    (addLog)="addLog.emit($event)"
    (mediaClick)="mediaClick.emit($event)"
    [isCompleted]="isCompleted()"
    url="movie"
  >
    <div class="movie-info">
      <h3>{{ movie.title }}</h3>
      
      @if (movie.studios && movie.studios.length > 0) {
        <div class="director-name">{{ movie.studios[0] }}</div>
      }

      <div class="meta">
        <span class="runtime">
          <lucide-icon [img]="ClockIcon" [size]="14"></lucide-icon>
          {{ formatRuntime(movie.progressTotal || 0) }}
        </span>
        
        @if (movie.score > 0) {
          <span class="score" [ngClass]="getScoreColorClass(movie.score)">
            <lucide-icon [img]="StarIcon" [size]="14"></lucide-icon>
            {{ movie.score }}/6
          </span>
        }
      </div>

      @if (movie.genres && movie.genres.length > 0) {
        <div class="genres">
          @for (genre of movie.genres.slice(0, 3); track genre) {
            <span class="genre-tag">{{ genre }}</span>
          }
        </div>
      }
    </div>
  </app-kanban-card>
}
