<header class="app-header">
  <div class="logo">
    <a routerLink="/">ðŸŽŒ Anime</a>
  </div>
  <div class="header-actions">
    <a class="nav-btn" routerLink="/timeline" title="Yearly Timeline">
      <lucide-icon [name]="HistoryIcon" [size]="18"></lucide-icon>
      <span>Timeline</span>
    </a>
    <a class="nav-btn" routerLink="/lists" title="Anime Lists">
      <lucide-icon [name]="LayersIcon" [size]="18"></lucide-icon>
      <span>Lists</span>
    </a>
    <a class="nav-btn" routerLink="/recommendation" title="Anime Discovery">
      <lucide-icon [name]="SparklesIcon" [size]="18"></lucide-icon>
      <span>Discovery</span>
    </a>

    <div class="dropdown-wrapper">
      <button class="nav-btn" (click)="toogleTools()" [class.active]="showToolsDropdown()">
        <lucide-icon [name]="ToolsIcon" [size]="18"></lucide-icon>
        <span>Tools</span>
        <lucide-icon [name]="ChevronDownIcon" [size]="14"></lucide-icon>
      </button>

      @if (showToolsDropdown()) {
        <div class="dropdown-menu" (click)="showToolsDropdown.set(false)">
          <button class="dropdown-item" (click)="refreshMetadata.emit()">
            <lucide-icon [name]="RefreshIcon" [size]="16"></lucide-icon>
            Refetch Metadata
          </button>
          <button class="dropdown-item" (click)="bulkImport.emit()">
            <lucide-icon [name]="ImportIcon" [size]="16"></lucide-icon>
            Bulk Import
          </button>
          <div class="dropdown-divider"></div>
          <button class="dropdown-item" (click)="openThemeSettings.emit()">
            <lucide-icon [name]="SettingsIcon" [size]="16"></lucide-icon>
            UI Customization
          </button>
        </div>
      }
    </div>

    <button class="nav-btn" (click)="manageSources.emit()" title="Manage Sources">
      <lucide-icon [name]="MonitorIcon" [size]="18"></lucide-icon>
      <span>Sources</span>
    </button>
    <button class="nav-btn" (click)="manageCategories.emit()" title="Manage Categories">
      <lucide-icon [name]="LayersIcon" [size]="18"></lucide-icon>
      <span>Categories</span>
    </button>
  </div>
</header>
