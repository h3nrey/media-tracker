<div class="media-dropdown-wrapper">
  <button class="selector-trigger">
    <lucide-icon [img]="getCurrentTypeIcon(selectedType$ | async)" [size]="18"></lucide-icon>
    <span class="trigger-label">{{ getCurrentTypeLabel(selectedType$ | async) }}</span>
    <lucide-icon [img]="ChevronIcon" [size]="14" class="chevron"></lucide-icon>
  </button>
  
  <div class="dropdown-menu">
    <div class="dropdown-content">
      @for (type of mediaTypes; track type.id) {
        <button 
          class="dropdown-item"
          [class.active]="(selectedType$ | async) === type.id"
          (click)="selectType(type.id)"
        >
          <lucide-icon [img]="type.icon" [size]="14"></lucide-icon>
          <span>{{ type.name }}</span>
          @if ((selectedType$ | async) === type.id) {
            <div class="active-dot"></div>
          }
        </button>
      }
    </div>
  </div>
</div>
