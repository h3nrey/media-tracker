<div class="media-dropdown-wrapper">
  <button class="logo-btn" (click)="toggle()" [class.active]="isOpen()">
    <span class="logo-text">ðŸŽŒ Tracker</span>
    <div class="current-selection">
       <lucide-icon [img]="getCurrentTypeIcon(selectedType$ | async)" [size]="16"></lucide-icon>
       <span>{{ getCurrentTypeLabel(selectedType$ | async) }}</span>
       <lucide-icon [img]="ChevronIcon" [size]="12"></lucide-icon>
    </div>
  </button>

  @if (isOpen()) {
    <div class="dropdown-menu">
      @for (type of mediaTypes; track type.id) {
        <button 
          class="dropdown-item"
          [class.active]="(selectedType$ | async) === type.id"
          (click)="selectType(type.id)"
        >
          <lucide-icon [img]="type.icon" [size]="16"></lucide-icon>
          <span>{{ type.name }}</span>
        </button>
      }
    </div>
    <div class="dropdown-backdrop" (click)="isOpen.set(false)"></div>
  }
</div>
